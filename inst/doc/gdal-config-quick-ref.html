<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>GDAL Config Quick Reference</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">GDAL Config Quick Reference</h1>


<div id="TOC">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#general-options">General options</a></li>
<li><a href="#performance-and-caching">Performance and caching</a></li>
<li><a href="#networking">Networking</a></li>
<li><a href="#proj">PROJ</a></li>
<li><a href="#warp">Warp</a></li>
<li><a href="#geotiff">GeoTIFF</a></li>
<li><a href="#aws-s3-buckets">AWS S3 buckets</a></li>
<li><a href="#google-cloud-storage">Google Cloud Storage</a></li>
<li><a href="#microsoft-azure">Microsoft Azure</a></li>
<li><a href="#sozip">SOZip</a></li>
</ul>
</div>

<div id="overview" class="section level2">
<h2>Overview</h2>
<p>Configuration options are essentially global variables the user can set. They are used to alter the default behavior of certain raster format drivers, and in some cases the GDAL core. A large number of configuration options are available. An overall discussion along with full list of available options and where they apply is in the GDAL documentation at <a href="https://gdal.org/user/configoptions.html" class="uri">https://gdal.org/user/configoptions.html</a>.</p>
<p>This quick reference covers a small subset of configuration options that may be useful in common scenarios, with links to topic-specific documentation provided by the GDAL project. Options can be set from R with <code>gdalraster::set_config_option()</code>. Note that specific usage is context dependent. Passing <code>value = &quot;&quot;</code> (empty string) will unset a value previously set by <code>set_config_option()</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">library</span>(gdalraster)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="co">#&gt; GDAL 3.6.4, released 2023/04/17, PROJ 9.1.1</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;GDAL_NUM_THREADS&quot;</span>, <span class="st">&quot;ALL_CPUS&quot;</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a><span class="co"># unset:</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;GDAL_NUM_THREADS&quot;</span>, <span class="st">&quot;&quot;</span>)</span></code></pre></div>
</div>
<div id="general-options" class="section level2">
<h2>General options</h2>
<p>GDAL doc: <a href="https://gdal.org/user/configoptions.html#general-options" class="uri">https://gdal.org/user/configoptions.html#general-options</a></p>
<p><strong><code>GDAL_RASTERIO_RESAMPLING</code></strong></p>
<p>The <code>$read()</code> method of a <code>GDALRaster</code> object will perform automatic resampling if the specified output size (<code>out_xsize * out_ysize</code>) is different than the size of the source region being read (<code>xsize * ysize</code>). In that case, resampling can be configured to override the default <code>NEAR</code> to one of <code>BILINEAR</code>, <code>CUBIC</code>, <code>CUBICSPLINE</code>, <code>LANCZOS</code>, <code>AVERAGE</code>, <code>MODE</code>, <code>RMS</code>, or <code>GAUSS</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="co"># bilinear interpolation (2x2 neighborhood of pixels)</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;GDAL_RASTERIO_RESAMPLING&quot;</span>, <span class="st">&quot;BILINEAR&quot;</span>)</span></code></pre></div>
<p><strong><code>CPL_TMPDIR</code></strong></p>
<p>By default, temporary files are written into the current working directory. This can be changed with:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;CPL_TMPDIR&quot;</span>, <span class="st">&quot;&lt;dirname&gt;&quot;</span>) <span class="co"># tmpdir to use</span></span></code></pre></div>
</div>
<div id="performance-and-caching" class="section level2">
<h2>Performance and caching</h2>
<p>GDAL doc: <a href="https://gdal.org/user/configoptions.html#performance-and-caching" class="uri">https://gdal.org/user/configoptions.html#performance-and-caching</a></p>
<p><strong><code>GDAL_NUM_THREADS</code></strong></p>
<p>Sets the number of worker threads to be used by GDAL operations that support multithreading. This affects several different parts of GDAL including multi-threaded compression for GeoTiff and SOZip, and multithreaded computation during <code>warp()</code> (see topics below).</p>
<p><strong><code>GDAL_CACHEMAX</code></strong></p>
<p>The size limit of the block cache is set upon first use (first I/O). Setting <code>GDAL_CACHEMAX</code> after that point will not resize the cache. It is a per-session setting. If <code>GDAL_CACHEMAX</code> has not been set upon first use of the cache, then the default cache size (<code>5%</code> of physical RAM) will be in effect for the current session. See also <a href="https://usdaforestservice.github.io/gdalraster/articles/gdal-block-cache.html">GDAL Block Cache</a>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="co"># set to a specific size in MB</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;GDAL_CACHEMAX&quot;</span>, <span class="st">&quot;800&quot;</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a><span class="co"># or percent of physical RAM</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;GDAL_CACHEMAX&quot;</span>, <span class="st">&quot;10%&quot;</span>)</span></code></pre></div>
<p><strong><code>GDAL_MAX_DATASET_POOL_SIZE</code></strong></p>
<p>The default number of datasets that can be opened simultaneously by the <code>GDALProxyPool</code> mechanism (used by VRT for example) is <code>100</code>. This can be increased to get better random I/O performance with VRT mosaics made of numerous underlying raster files. Note: on Linux systems, the number of file handles that can be opened by a process is generally limited to <code>1024</code>. This is currently clamped between <code>2</code> and <code>1000</code>. Also note that <a href="https://gdal.org/drivers/raster/vrt.html#performance-considerations"><code>gdalwarp</code> increases the pool size to <code>450</code></a>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="co"># default is 100</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;GDAL_MAX_DATASET_POOL_SIZE&quot;</span>, <span class="st">&quot;450&quot;</span>)</span></code></pre></div>
<p><strong><code>PG_USE_COPY</code></strong></p>
<p>This configures PostgreSQL/PostGIS to use <code>COPY</code> for inserting data which is significantly faster than <code>INSERT</code>. This can increase performance substantially when using <code>gdalraster::polygonize()</code> to write polygons to PostGIS vector. See also <a href="https://gdal.org/drivers/vector/pg.html#configuration-options">GDAL configuration options for PostgreSQL</a>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="co"># use COPY for inserting to PostGIS</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;PG_USE_COPY&quot;</span>, <span class="st">&quot;YES&quot;</span>)</span></code></pre></div>
<p><strong><code>SQLITE_USE_OGR_VFS</code></strong></p>
<p>For the SQLite-based formats GeoPackage (.gpkg) and Spatialite (.sqlite), setting <code>SQLITE_USE_OGR_VFS</code> enables extra buffering/caching by the GDAL/OGR I/O layer and can speed up I/O. Be aware that no file locking will occur if this option is activated, so concurrent edits may lead to database corruption. This setting may increase performance substantially when using <code>gdalraster::polygonize()</code> to write polygons to a vector layer in these formats. Additional configuration and performance hints for SQLite databases are in the driver documentation at: <a href="https://gdal.org/drivers/vector/sqlite.html#configuration-options" class="uri">https://gdal.org/drivers/vector/sqlite.html#configuration-options</a>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="co"># SQLite: GPKG (.gpkg) and Spatialite (.sqlite)</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a><span class="co"># enable extra buffering/caching by the GDAL/OGR I/O layer</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;SQLITE_USE_OGR_VFS&quot;</span>, <span class="st">&quot;YES&quot;</span>)</span></code></pre></div>
<p><strong><code>OGR_SQLITE_JOURNAL</code></strong></p>
<p>SQLite is a transactional DBMS. When many <code>INSERT</code> statements are executed in close sequence, application code may group them into large batches within transactions in order to get optimal performance. By default, if no transaction is explicitly started, SQLite will autocommit on every statement which will be slow.</p>
<p>The <code>OGR_SQLITE_JOURNAL</code> option configures operation of the rollback journal that implements transactions in SQLite. The <a href="https://www.sqlite.org/pragma.html#pragma_journal_mode">SQLite documentation</a> describes the default operation:</p>
<blockquote>
<p>The DELETE journaling mode is the normal behavior. In the DELETE mode, the rollback journal is deleted at the conclusion of each transaction. Indeed, the delete operation is the action that causes the transaction to commit.</p>
</blockquote>
<p>The <code>DELETE</code> mode requires file system I/O so performance is degraded if many <code>INSERT</code>s are autocommitted individually. Using <code>MEMORY</code> journaling mode (or even <code>OFF</code>) can be much faster in this case:</p>
<blockquote>
<p>The MEMORY journaling mode stores the rollback journal in volatile RAM. This saves disk I/O but at the expense of database safety and integrity. If the application using SQLite crashes in the middle of a transaction when the MEMORY journaling mode is set, then the database file will very likely go corrupt.</p>
</blockquote>
<p>See the SQLite documentation for all available <a href="https://www.sqlite.org/pragma.html#pragma_journal_mode">journal modes</a>. This setting also applies when using <code>gdalraster::polygonize()</code> to write polygons to a vector layer in GeoPackage (.gpkg) or Spatialite (.sqlite) formats (see <code>SQLITE_USE_OGR_VFS</code> above).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="co"># configure SQLite to store the rollback journal in RAM</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;OGR_SQLITE_JOURNAL&quot;</span>, <span class="st">&quot;MEMORY&quot;</span>)</span></code></pre></div>
</div>
<div id="networking" class="section level2">
<h2>Networking</h2>
<p>GDAL doc: <a href="https://gdal.org/user/configoptions.html#networking-options" class="uri">https://gdal.org/user/configoptions.html#networking-options</a></p>
</div>
<div id="proj" class="section level2">
<h2>PROJ</h2>
<p>GDAL doc: <a href="https://gdal.org/user/configoptions.html#proj-options" class="uri">https://gdal.org/user/configoptions.html#proj-options</a></p>
<p><strong><code>OSR_DEFAULT_AXIS_MAPPING_STRATEGY</code></strong></p>
<p>This option can be set to either <code>TRADITIONAL_GIS_ORDER</code> or <code>AUTHORITY_COMPLIANT</code>. GDAL &gt;= 3.5 defaults to <code>AUTHORITY_COMPLIANT</code>. Determines whether to honor the declared axis mapping of a CRS or override it with the traditional GIS ordering (x = longitude, y = latitude). <strong>Note:</strong> On load, gdalraster sets this option to <code>TRADITIONAL_GIS_ORDER</code>.</p>
<p><strong><code>OSR_WKT_FORMAT</code></strong></p>
<p>As of GDAL 3.0, the default format for exporting a spatial reference definition to Well Known Text is WKT 1. This can be overridden with:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a><span class="co"># SFSQL/WKT1_SIMPLE/WKT1/WKT1_GDAL/WKT1_ESRI/WKT2_2015/WKT2_2018/WKT2/DEFAULT</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;OSR_WKT_FORMAT&quot;</span>, <span class="st">&quot;WKT2&quot;</span>)</span></code></pre></div>
</div>
<div id="warp" class="section level2">
<h2>Warp</h2>
<p>GDAL doc: <a href="https://gdal.org/programs/gdalwarp.html#memory-usage" class="uri">https://gdal.org/programs/gdalwarp.html#memory-usage</a></p>
<p>The <a href="#performance-and-caching">performance and caching</a> topic above generally applies to processing with <code>gdalraster::warp()</code> (reproject/resample/crop/mosaic).</p>
<p><strong><code>GDAL_NUM_THREADS</code></strong></p>
<p>Multithreaded computation in <code>warp()</code> can be enabled with:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a><span class="co"># note this also affects several other parts of GDAL</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;GDAL_NUM_THREADS&quot;</span>, <span class="st">&quot;4&quot;</span>) <span class="co"># number of threads or ALL_CPUS</span></span></code></pre></div>
<p>Increasing the memory available to <code>warp()</code> may also increase performance (i.e., the options passed in <code>cl_arg</code> include a value like <code>c(&quot;-wm&quot;, &quot;1000&quot;)</code>). The warp memory specified by <code>&quot;-wm&quot;</code> is shared among all threads. It is especially beneficial to increase this value when running <code>warp()</code> with multithreading enabled.</p>
<p>Multithreading could also be enabled by including a GDAL warp option in <code>cl_arg</code> with <code>c(&quot;-wo&quot;, &quot;NUM_THREADS=&lt;value&gt;&quot;)</code> greater than 1, which is equivalent to setting the <code>GDAL_NUM_THREADS</code> configuration option as shown above.</p>
<p>This option can be combined with the <a href="https://gdal.org/programs/gdalwarp.html#cmdoption-gdalwarp-multi"><code>-multi</code> command-line argument</a> passed to <code>warp()</code> in <code>cl_arg</code>. With <code>-multi</code>, two threads will be used to process chunks of the raster and perform input/output operation simultaneously, whereas the <code>GDAL_NUM_THREADS</code> configuration option affects computation separately.</p>
<p><strong><code>GDAL_CACHEMAX</code></strong></p>
<p>Increasing the size of the I/O block cache may also help. This can be done by setting <code>GDAL_CACHEMAX</code> as described in the <a href="#performance-and-caching">performance and caching</a> topic above.</p>
</div>
<div id="geotiff" class="section level2">
<h2>GeoTIFF</h2>
<p>GDAL doc: <a href="https://gdal.org/drivers/raster/gtiff.html#configuration-options" class="uri">https://gdal.org/drivers/raster/gtiff.html#configuration-options</a></p>
<p>The behavior of the GTiff driver is highly configurable, including with respect to overview creation. For full discussion, see the link above and also the documentation for the <a href="https://gdal.org/programs/gdaladdo.html"><code>gdaladdo</code></a> command-line utility.</p>
<p><strong><code>GDAL_NUM_THREADS</code></strong></p>
<p>The GTiff driver supports multi-threaded compression (default is compression in the main thread). GDAL documentation states that it is worth it for slow compression algorithms such as <code>DEFLATE</code> or <code>LZMA</code>. Starting with GDAL 3.6, this option also enables multi-threaded decoding when read requests intersect several tiles/strips:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a><span class="co"># specify the number of worker threads or ALL_CPUS</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a><span class="co"># note this also affects several other parts of GDAL</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;GDAL_NUM_THREADS&quot;</span>, <span class="st">&quot;ALL_CPUS&quot;</span>)</span></code></pre></div>
<p><strong><code>COMPRESS_OVERVIEW</code></strong></p>
<p>Raster overviews (a.k.a. pyramids) can be built with the <code>$buildOverviews()</code> method of a <code>GDALRaster</code> object. It may be desirable to compress the overviews when building:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a><span class="co"># applies to external overviews (.ovr), and internal overviews if GDAL &gt;= 3.6</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a><span class="co"># LZW is a good default but several other compression algorithms are available</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;COMPRESS_OVERVIEW&quot;</span>, <span class="st">&quot;LZW&quot;</span>)</span></code></pre></div>
<p><strong><code>PREDICTOR_OVERVIEW</code></strong></p>
<p>Sets the predictor to use for overviews with <code>LZW</code>, <code>DEFLATE</code> and <code>ZSTD</code> compression. The default is <code>1</code> (no predictor), <code>2</code> is horizontal differencing and <code>3</code> is floating point prediction. <code>PREDICTOR=2</code> is only supported for 8, 16, 32 and 64 bit samples (support for 64 bit was added in libtiff &gt; 4.3.0). <code>PREDICTOR=3</code> is only supported for 16, 32 and 64 bit floating-point data.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a><span class="co"># horizontal differencing</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;PREDICTOR_OVERVIEW&quot;</span>, <span class="st">&quot;2&quot;</span>)</span></code></pre></div>
</div>
<div id="aws-s3-buckets" class="section level2">
<h2>AWS S3 buckets</h2>
<p>GDAL doc: <a href="https://gdal.org/user/virtual_file_systems.html#vsis3-aws-s3-files">/vsis3/</a> (AWS S3 file system handler)</p>
<p><strong><code>AWS_NO_SIGN_REQUEST</code></strong></p>
<p>Request signing can be disabled for public buckets that do not require an AWS account:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a><span class="co"># public bucket no AWS account required</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;AWS_NO_SIGN_REQUEST&quot;</span>, <span class="st">&quot;YES&quot;</span>)</span></code></pre></div>
<p><strong><code>AWS_ACCESS_KEY_ID</code></strong><br />
<strong><code>AWS_SECRET_ACCESS_KEY</code></strong><br />
<strong><code>AWS_SESSION_TOKEN</code></strong><br />
<strong><code>AWS_REQUEST_PAYER</code></strong></p>
<p>If authentication is required, configure credentials with:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;AWS_ACCESS_KEY_ID&quot;</span>, <span class="st">&quot;&lt;value&gt;&quot;</span>) <span class="co"># key ID</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;AWS_SECRET_ACCESS_KEY&quot;</span>, <span class="st">&quot;&lt;value&gt;&quot;</span>) <span class="co"># secret access key</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a><span class="co"># used for validation if using temporary credentials:</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;AWS_SESSION_TOKEN&quot;</span>, <span class="st">&quot;&lt;value&gt;&quot;</span>) <span class="co"># session token</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true"></a><span class="co"># if requester pays:</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;AWS_REQUEST_PAYER&quot;</span>, <span class="st">&quot;&lt;value&gt;&quot;</span>) <span class="co"># requester</span></span></code></pre></div>
<p><strong><code>AWS_REGION</code></strong></p>
<p>Sets the AWS region to which requests should be sent. Defaults to <code>us-east-1</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a><span class="co"># specify region</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;AWS_REGION&quot;</span>, <span class="st">&quot;us-west-2&quot;</span>)</span></code></pre></div>
</div>
<div id="google-cloud-storage" class="section level2">
<h2>Google Cloud Storage</h2>
<p>GDAL doc: <a href="https://gdal.org/user/virtual_file_systems.html#vsigs-google-cloud-storage-files">/vsigs/</a> (Google Cloud Storage files)</p>
</div>
<div id="microsoft-azure" class="section level2">
<h2>Microsoft Azure</h2>
<p>GDAL doc: <a href="https://gdal.org/user/virtual_file_systems.html#vsiaz-microsoft-azure-blob-files">/vsiaz/</a> (Microsoft Azure Blob files)</p>
</div>
<div id="sozip" class="section level2">
<h2>SOZip</h2>
<p>GDAL doc: <a href="https://gdal.org/user/virtual_file_systems.html#vsizip-zip-archives">/vsizip/</a> (Seek-Optimized ZIP files, GDAL &gt;= 3.7)</p>
<p>The function <code>gdalraster::addFilesInZip()</code> can be used to create new or append to existing ZIP files, potentially using the seek optimization extension. Function arguments are available for the options below, or the configuration options can be set to change the default behavior.</p>
<p><strong><code>GDAL_NUM_THREADS</code></strong></p>
<p>The <code>GDAL_NUM_THREADS</code> configuration option can be set to <code>ALL_CPUS</code> or an integer value to specify the number of threads to use for SOZip-compressed files. This option is similarly described above for compression in <a href="#geotiff">GeoTiff</a>. Note that this option also affects several other parts of GDAL.</p>
<p><strong><code>CPL_SOZIP_ENABLED</code></strong></p>
<p>Defaults to <code>AUTO</code>. Determines whether the SOZip optimization should be enabled. If <code>AUTO</code>, SOZip will be enabled for uncompressed files larger than <code>CPL_SOZIP_MIN_FILE_SIZE</code>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a><span class="co"># SOZip optimization defaults to AUTO</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;CPL_SOZIP_ENABLED&quot;</span>, <span class="st">&quot;YES&quot;</span>)</span></code></pre></div>
<p><strong><code>CPL_SOZIP_MIN_FILE_SIZE</code></strong></p>
<p>Defaults to <code>1M</code>. Determines the minimum file size for SOZip to be automatically enabled. Specified in bytes, or <code>K</code>, <code>M</code> or <code>G</code> suffix can be used respectively to specify a value in kilobytes, megabytes or gigabytes.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a><span class="co"># SOZip minimum file size</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true"></a><span class="kw">set_config_option</span>(<span class="st">&quot;CPL_SOZIP_MIN_FILE_SIZE&quot;</span>, <span class="st">&quot;100K&quot;</span>)</span></code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
